---
eleventyComputed:
  title: "{{ productos[0].titleseo }}"
  description: "{{ productos[0].descseo }}"
  keywords: "{{ productos[0].keyseo }}"
layout: base.njk
pagination:
  data: collections.productos
  size: 1
  alias: producto
permalink: "/desarrollos/{{ producto.slug.current }}/"
---

<div
  data-barba="container"
  data-barba-namespace="producto"
  data-css="producto"
  data-js="producto"
>
  <section id="section__hero" class="pad__lr__5 pad__top__10">
    <div class="column__2">
      <div class="col__left">
        <span class="categoria_producto">
          <a href="/desarrollos/">Desarrollos / </a>
          <a
            href="/desarrollos/{{ producto.categories | slugify }}"
            >{{ producto.categories | join(", ") }}</a
          >
        </span>
        <h1>{{ producto.title }}</h1>
        <span class="categoria_producto">
          {{ producto.hero.heroType }}
        </span>
      </div>
      <div class="col__right">
        <p>{{ producto.hero.heroIntro }}</p>
        <a href="{{ producto.hero.heroWebLink }}" class="btn btn--right"
          >Visitar sitio web</a
        >
      </div>
    </div>
  </section>

  <section id="section__main__image">
    <div class="column__1">
      {% if producto.mainImage %}
      <picture>
        {% for format, images in producto.mainImage %}
        <source
          srcset="{{ images | srcset }}"
          sizes="(max-width: 1200px) 100vw, 1200px"
          type="image/{{ format }}"
        />
        {% endfor %}
        <img
          src="{{ producto.mainImage.jpeg[0].url }}"
          alt="{{ producto.mainImage.altText }}"
        />
      </picture>
      {% endif %}
    </div>
  </section>

  <section id="home_twinImg" class="fadeInOut">
    <div class="column__2">
      <div class="col__left">
        {% if producto.twinDivisor.img1 %}
        <picture>
          {% for format, images in producto.twinDivisor.img1 %}
          <source
            srcset="{{ images | srcset }}"
            sizes="(max-width: 1200px) 100vw, 1200px"
            type="image/{{ format }}"
          />
          {% endfor %}
          <img
            src="{{ producto.twinDivisor.img1.jpeg[0].url }}"
            alt="{{ producto.twinDivisor.img1.altText }}"
          />
        </picture>
        {% endif %}
      </div>
      <div class="col__right">
        {% if producto.twinDivisor.img2 %}
        <picture>
          {% for format, images in producto.twinDivisor.img2 %}
          <source
            srcset="{{ images | srcset }}"
            sizes="(max-width: 1200px) 100vw, 1200px"
            type="image/{{ format }}"
          />
          {% endfor %}
          <img
            src="{{ producto.twinDivisor.img2.jpeg[0].url }}"
            alt="{{ producto.twinDivisor.img2.altText }}"
          />
        </picture>
        {% endif %}
      </div>
    </div>
  </section>
  <section id="home_descGeneral" class="fadeInOut">
    <div class="column__2">
      <div class="col__left">
        <h2>{{ producto.general.h2 }}</h2>
        <a class="btn btn--down" id="toOurMethod">Descargar Brochure |</a>
      </div>
      <div class="col__right">
        <p>{{ producto.general.richText1 | safe }}</p>
        <p>{{ producto.general.richText2 | safe }}</p>
      </div>
    </div>
  </section>
  <section id="home_divisor" class="fadeInOut">
    <div class="column__1">
      {% if producto.divisor %}
      <picture>
        {% for format, images in producto.divisor %}
        <source
          srcset="{{ images | srcset }}"
          sizes="(max-width: 1200px) 100vw, 1200px"
          type="image/{{ format }}"
        />
        {% endfor %}
        <img
          src="{{ producto.divisor.jpeg[0].url }}"
          alt="{{ producto.divisor.altText }}"
        />
      </picture>
      {% endif %}
    </div>
  </section>

  <section id="product__location" class="fadeInOut">
    <h2 class="width__100">Ubicación</h2>
    <div class="column__2">
      <div class="col__left pad__right__5">
        <div>
          {{ producto.location.desc | safe }}
        </div>
        <a
          href="{{ producto.location.linkLocation }}"
          target="_blank"
          class="btn btn--right"
          >Abrir en Google Maps</a
        >
      </div>
      <div class="col__right">
        <div
          id="map-container-product"
          data-map-iframe-product="{{ producto.location.map | escape }}"
        ></div>
      </div>
    </div>
  </section>

  <section id="product__amenities" class="fadeInOut">
    <h2 class="width__100">Amenidades VIA</h2>
    <div class="amenity__desc">{{ producto.amenities.desc | safe }}</div>
    <div class="column__1">
      <ul role="list">
        {% for item in producto.amenities.list %}
        <li class="amenities__card flex flex-col">
          <p>
            {{ item.name }}
          </p>
          <picture>
            <img src="{{ item.img.url }}" alt="" />
          </picture>
        </li>
        {% endfor %}
      </ul>
    </div>
  </section>

  <section id="product__gallery">
    <h2 class="width__100">Galería</h2>
    <div class="column__1">
      <div
        id="main-carousel"
        class="splide"
        aria-label="Splide Basic HTML Example"
        role="group"
      >
        <div class="splide__track fadeInOut">
          <ul class="splide__list">
            {% for item in producto.gallery.list %}
            <li class="splide__slide">
              <picture>
                {% for format, images in item %}
                <source
                  srcset="{{ images | srcset }}"
                  sizes="(max-width: 1200px) 100vw, 1200px"
                  type="image/{{ format }}"
                />
                {% endfor %}
                <img src="{{ item.jpeg[0].url }}" alt="{{ item.altText }}" />
              </picture>
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>

      <div
        id="thumbnail-carousel"
        class="splide"
        aria-label="Splide Basic HTML Example"
        role="group"
      >
        <div class="splide__track">
          <ul class="splide__list">
            {% for item in producto.gallery.list %}
            <li class="splide__slide">
              <picture>
                {% for format, images in item %}
                <source
                  srcset="{{ images | srcset }}"
                  sizes="(max-width: 1200px) 100vw, 1200px"
                  type="image/{{ format }}"
                />
                {% endfor %}
                <img src="{{ item.jpeg[0].url }}" alt="{{ item.altText }}" />
              </picture>
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
    <a href="{{ producto.pageIntro.linkWeb }}" class="btn btn--right"
      >Visitar sitio web</a
    >
  </section>
</div>

<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css"
/>
<script>
  // carrousel
  document.addEventListener("DOMContentLoaded", function () {
    var main = new Splide("#main-carousel", {
      type: "fade",
      rewind: true,
      pagination: false,
      arrows: true,
    });
    var thumbnails = new Splide("#thumbnail-carousel", {
      fixedWidth: 100,
      fixedHeight: 60,
      gap: 10,
      rewind: true,
      pagination: false,
      isNavigation: true,
      arrows: false,
    });
    main.sync(thumbnails);
    main.mount();
    thumbnails.mount();
  });
  console.log(data);
  // get color
  const containerIcon = document.getElementById("hero-logo-product-container");
  const color = containerIcon.getAttribute("data-color");
  containerIcon.style.backgroundColor = color;
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const mapContainer = document.getElementById("map-container-product");
    const iframeString = mapContainer.getAttribute("data-map-iframe-product");
    if (iframeString) {
      const parser = new DOMParser();
      const doc = parser.parseFromString(iframeString, "text/html");
      const iframe = doc.querySelector("iframe");
      if (iframe) {
        // Create a new iframe and copy attributes
        const newIframe = document.createElement("iframe");
        Array.from(iframe.attributes).forEach((attr) => {
          newIframe.setAttribute(attr.name, attr.value);
        });
        // Set desired attributes
        newIframe.width = "100%";
        newIframe.height = "100%";
        newIframe.style.border = "0";
        newIframe.allowFullscreen = true;
        newIframe.loading = "lazy";
        newIframe.referrerPolicy = "no-referrer-when-downgrade";
        // Set title for accessibility
        if (!newIframe.hasAttribute("title")) {
          newIframe.title = "Google Maps";
        }
        mapContainer.appendChild(newIframe);
      }
    }
  });
</script>
