---
eleventyComputed:
  title: "{{ productos[0].titleseo }}"
  description: "{{ productos[0].descseo }}"
  keywords: "{{ productos[0].keyseo }}"
layout: base.njk
pagination:
  data: collections.productos
  size: 1
  alias: producto
permalink: "/desarrollos/{{ producto.slug.current }}/"
---

<div
  data-barba="container"
  data-barba-namespace="producto"
  data-css="producto"
  data-js="producto"
>
  <section id="section__hero">
    <div class="column__1">
      <div class="column__2">
        <div class="col__left">
          <span class="categoria_producto">
            <a href="/desarrollos/">Desarrollos / </a>
            <a href="/desarrollos/{{ producto.categories | slugify }}">
            {{ producto.categories | join(", ") }}</a>
          </span>
          <h1>{{ producto.title }}</h1>
        </div>
        <div class="col__right">
          
        </div>
      </div>
      {% if producto.mainImage %}
        <picture>
          {% for format, images in producto.mainImage %}
          <source
          srcset="{{ images | srcset }}"
          sizes="(max-width: 1200px) 100vw, 1200px"
          type="image/{{ format }}"/>
          {% endfor %}
          <img src="{{ producto.mainImage.jpeg[0].url }}"
            alt="{{ producto.mainImage.altText }}"/>
        </picture>
      {% endif %}
    </div>
  </section>
  <section id="home_descGeneral" class="fadeInOut">
    <div class="column__2">
      <div class="col__left">
        <h3 class="indicador">
          <span>/ </span>descripción general
        </h3>
        <h2>{{ producto.general.h2 }}</h2>
        <a class="btn btn--down" id="toOurMethod">Descargar Brochure |</a>
      </div>
      <div class="col__right">
        <p>{{ producto.general.richText1 | safe }}</p>
        <p>{{ producto.general.richText2 | safe }}</p>
      </div>
    </div>
  </section>
  <section id="product__gallery">
    <div class="column__1">
      <div
        id="main-carousel"
        class="splide"
        aria-label="Splide Basic HTML Example"
        role="group">
        <div class="splide__track fadeInOut">
          <ul class="splide__list">
            {% for item in producto.gallery.list %}
            <li class="splide__slide">
              <picture>
                {% for format, images in item %}
                <source
                  srcset="{{ images | srcset }}"
                  sizes="(max-width: 1200px) 100vw, 1200px"
                  type="image/{{ format }}"
                />
                {% endfor %}
                <img src="{{ item.jpeg[0].url }}" alt="{{ item.altText }}" />
              </picture>
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <div
        id="thumbnail-carousel"
        class="splide"
        aria-label="Splide Basic HTML Example"
        role="group">
        <div class="splide__track">
          <ul class="splide__list">
            {% for item in producto.gallery.list %}
            <li class="splide__slide"></li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  </section>
  <section id="product__amenities" class="fadeInOut">
    <div class="column__1" id="titulo__amenidades">
      <h3 class="indicador">
          <span>/ </span>amenidades
      </h3>
      <h2 class="width__100">Amenidades en {{ producto.title }}</h2>
    </div>
    <div class="column__1" id="iconos__amenidades">
      <ul role="list">
        {% for item in producto.amenities.list %}
        <li class="amenities__card flex flex-col">
          <picture>
            <img src="{{ item.img.url }}" alt="" />
          </picture>
          <p>
            {{ item.name }}
          </p>
        </li>
        {% endfor %}
      </ul>
    </div>
  </section>
  <section id="product__location" class="fadeInOut">
    <div class="column__2">
      <div class="col__left">
        <h3 class="indicador">
          <span>/ </span>ubicación
        </h3>
        <h2>Ubicación</h2>
        <div>{{ producto.location.desc | safe }}</div>
        <a
          href="{{ producto.location.linkLocation }}"
          target="_blank"
          class="btn btn--right">Abrir en Google Maps
        </a>
      </div>
      <div class="col__right">
        <div
          id="map-container-product"
          data-map-iframe-product="{{ producto.location.map | escape }}"
        ></div>
      </div>
    </div>
  </section>
  <section class="section__contact">
    <div class="column__1">
      <h3 class="indicador"><span>/</span>contacto</h3>
      <h2>se parte de la experiencia <span>via</span></h2>
    </div>
    <div class="column__2">
      <div class="col__left">
        <ul class="data__wrapper">
          <li class="telefono">
            <h3>teléfono</h3>
            <p>000 000 0000</p>
          </li>
          <li class="correo">
            <h3>correo electrónico</h3>
            <p>contacto@via.mx</p>
          </li>
          <li class="oficinas">
            <h3>oficinas</h3>
            <p>Lorem ipsum dolor sit amet consectetur</p>
          </li>
        </ul>
        
      </div>
      <div class="col__right"></div>
    </div>
  </section>


</div>

<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css"
/>
<script>
  // carrousel
  document.addEventListener("DOMContentLoaded", function () {
    var main = new Splide("#main-carousel", {
      type: "fade",
      rewind: true,
      pagination: false,
      arrows: true,
    });
    var thumbnails = new Splide("#thumbnail-carousel", {
      fixedWidth: 100,
      fixedHeight: 60,
      gap: 10,
      rewind: true,
      pagination: false,
      isNavigation: true,
      arrows: false,
    });
    main.sync(thumbnails);
    main.mount();
    thumbnails.mount();
  });
  console.log(data);
  // get color
  const containerIcon = document.getElementById("hero-logo-product-container");
  const color = containerIcon.getAttribute("data-color");
  containerIcon.style.backgroundColor = color;
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const mapContainer = document.getElementById("map-container-product");
    const iframeString = mapContainer.getAttribute("data-map-iframe-product");
    if (iframeString) {
      const parser = new DOMParser();
      const doc = parser.parseFromString(iframeString, "text/html");
      const iframe = doc.querySelector("iframe");
      if (iframe) {
        // Create a new iframe and copy attributes
        const newIframe = document.createElement("iframe");
        Array.from(iframe.attributes).forEach((attr) => {
          newIframe.setAttribute(attr.name, attr.value);
        });
        // Set desired attributes
        newIframe.width = "100%";
        newIframe.height = "100%";
        newIframe.style.border = "0";
        newIframe.allowFullscreen = true;
        newIframe.loading = "lazy";
        newIframe.referrerPolicy = "no-referrer-when-downgrade";
        // Set title for accessibility
        if (!newIframe.hasAttribute("title")) {
          newIframe.title = "Google Maps";
        }
        mapContainer.appendChild(newIframe);
      }
    }
  });
</script>
